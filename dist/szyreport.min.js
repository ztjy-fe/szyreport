!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.szyreport=t():e.szyreport=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){function o(){var e=d(),t=f();return{platf:3,dev_id:i("dev_id"),imei:"",mac:"",adid:"",mtype:"",app_ver:"",app_gid:"",login_status:"",role:"",user_id:"",baby_id:"",student_id:"",school_id:"",adcode:"",pay_state:"",logtime:"",net:"",coordinate:"",ip:"",country:"",province:"",city:"",county:"",os:e,os_ver:t}}function r(e,t,n){var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3);var r="expires="+o.toUTCString();document.cookie=e+"="+t+"; "+r+"; path=/"}function i(e){var t,n=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(n))?unescape(t[2]):""}function a(e,t){var n="",o="";switch(e){case"alpha":n="https://ztjy-test.cn-hangzhou.log.aliyuncs.com/logstores/"+t+"/track?APIVersion=0.6.0",o="http://alpha-dtlog.szy.com/"+t;break;default:n="https://ztjy.cn-hangzhou.log.aliyuncs.com/logstores/"+t+"/track?APIVersion=0.6.0",o="https://dtlog.szy.cn/"+t}return{aliyunUrl:n,dtlogUrl:o}}function c(e){var t=e||{};u({prefix:t.prefix,data:Object.assign(o(),t.data),sdo_bfn:"sdo_bfn_pv"})}function s(e){var t=e||{},n=Object.assign(o(),t.data),r={prefix:t.prefix,data:n,sdo_bfn:"sdo_bfn_event"};t.callback&&(r.callback=t.callback),u(r)}function u(e){var t=e||{},n=a(t.prefix,t.sdo_bfn);if("sdo_bfn_event"===t.sdo_bfn){var o=new Promise(function(e,o){l({type:"get",url:n.aliyunUrl,data:t.data,success:function(t){e(t)},error:function(e){o(e)}})}),r=new Promise(function(e,o){l({type:"post",url:n.dtlogUrl,data:t.data,success:function(t){e(t)},error:function(e){o(e)}})});Promise.all([o,r]).then(function(e){t.callback&&t.callback()}).catch(function(e){t.callback&&t.callback()})}else l({type:"get",url:n.aliyunUrl,data:t.data,success:function(e){console.log(e)},error:function(e){console.log(e)}}),l({type:"post",url:n.dtlogUrl,data:t.data,success:function(e){console.log(e)},error:function(e){console.log(e)}})}var d=n(1),f=n(2),l=n(3);r("dev_id",function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:7&n|8).toString(16)})}(),7),e.exports={reportPV:c,reportEvent:s}},function(e,t){function n(){var e=window.navigator.userAgent,t=0;return e.indexOf("Android")>-1?t=1:e.indexOf("iPhone")>-1&&(t=2),t}e.exports=n},function(e,t){var n=function(){var e=navigator.userAgent,t="";if(e.match(/iPhone/i)||e.match(/iPod/i)){var n=/OS [\d._]*/gi;t=(e.match(n)+"").replace(/[^0-9|_.]/gi,"").replace(/_/gi,".")}else e.indexOf("Android")>-1||e.indexOf("Linux")>-1?t=e.slice(e.indexOf("Android")+8,e.indexOf("Android")+13):e.indexOf("BB10")>-1?t=e.substr(e.indexOf("BB10")+5,e.indexOf(";",e.indexOf("BB10"))-e.indexOf("BB10")-5):e.indexOf("IEMobile")&&(t=e.substr(e.indexOf("IEMobile")+9,e.indexOf(";",e.indexOf("IEMobile"))-e.indexOf("IEMobile")-9));return t};e.exports=n},function(e,t){function n(e){var t=e||{},n=new XMLHttpRequest,o=t.type.toUpperCase(),r=t.url,i=t.data,a=Math.random();if("GET"===o){if(i){var c="";for(var s in i)c+=s+"="+i[s]+"&";i=c.replace(/&$/,""),n.open("GET",r+"&"+i,!0)}else n.open("GET",r+"&t="+a,!0);n.send()}else"POST"===o&&(i=JSON.stringify(i),n.open("POST",r,!0),n.send(i));n.onreadystatechange=function(){4==n.readyState&&200==n.status&&t.success(n.responseText)}}e.exports=n}])});