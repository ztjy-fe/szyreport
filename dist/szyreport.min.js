!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.szyreport=n():e.szyreport=n()}("undefined"!=typeof self?self:this,function(){return function(e){function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}var t={};return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n(n.s=0)}([function(e,n,t){function o(){return{platf:3,dev_id:"",imei:"",mac:"",adid:"",mtype:"",app_ver:"",app_gid:"",login_status:"",role:"",user_id:"",baby_id:"",student_id:"",school_id:"",adcode:"",pay_state:"",logtime:"",net:"",coordinate:"",ip:"",country:"",province:"",city:"",county:"",os:s(),os_ver:f()}}function r(e,n){var t="",o="";switch(e){case"alpha":t="https://ztjy-test.cn-hangzhou.log.aliyuncs.com/logstores/"+n+"/track?APIVersion=0.6.0",o="http://alpha-dtlog.szy.com/"+n;break;default:t="https://ztjy.cn-hangzhou.log.aliyuncs.com/logstores/"+n+"/track?APIVersion=0.6.0",o="https://dtlog.szy.cn/"+n}return{aliyunUrl:t,dtlogUrl:o}}function i(e){var n=e||{};c({prefix:n.prefix,data:Object.assign(n.data,o()),sdo_bfn:"sdo_bfn_pv"})}function a(e){var n=e||{},t=Object.assign(n.data,o()),r={prefix:n.prefix,data:t,sdo_bfn:"sdo_bfn_event"};n.callback&&(r.callback=n.callback),c(r)}function c(e){var n=e||{},t=r(n.prefix,n.sdo_bfn);if("sdo_bfn_event"===n.sdo_bfn){var o=new Promise(function(e,o){var r={type:"get",url:t.aliyunUrl,data:n.data,success:function(n){e(n)},error:function(e){o(e)}};d(r)}),i=new Promise(function(e,o){var r={type:"post",url:t.dtlogUrl,data:n.data,success:function(n){e(n)},error:function(e){o(e)}};d(r)});Promise.all([o,i]).then(function(e){n.callback&&n.callback()}).catch(function(e){n.callback&&n.callback()})}else{var a={type:"get",url:t.aliyunUrl,data:n.data,success:function(e){console.log(e)},error:function(e){console.log(e)}};d(a);var c={type:"post",url:t.dtlogUrl,data:n.data,success:function(e){console.log(e)},error:function(e){console.log(e)}};d(c)}}var s=t(1),f=t(2),d=t(3);e.exports={reportPV:i,reportEvent:a}},function(e,n){function t(){var e=window.navigator.userAgent,n=0;return e.indexOf("Android")>-1?n=1:e.indexOf("iPhone")>-1&&(n=2),n}e.exports=t},function(e,n){var t=function(){var e=navigator.userAgent,n="";if(e.match(/iPhone/i)||e.match(/iPod/i)){var t=/OS [\d._]*/gi;n=(e.match(t)+"").replace(/[^0-9|_.]/gi,"").replace(/_/gi,".")}else e.indexOf("Android")>-1||e.indexOf("Linux")>-1?n=e.slice(e.indexOf("Android")+8,e.indexOf("Android")+13):e.indexOf("BB10")>-1?n=e.substr(e.indexOf("BB10")+5,e.indexOf(";",e.indexOf("BB10"))-e.indexOf("BB10")-5):e.indexOf("IEMobile")&&(n=e.substr(e.indexOf("IEMobile")+9,e.indexOf(";",e.indexOf("IEMobile"))-e.indexOf("IEMobile")-9));return n};e.exports=t},function(e,n){function t(e){var n=e||{},t=new XMLHttpRequest,o=n.type.toUpperCase(),r=n.url,i=n.data,a=Math.random();if("GET"===o){if(i){var c="";for(var s in i)c+=s+"="+i[s]+"&";i=c.replace(/&$/,""),t.open("GET",r+"&"+i,!0)}else t.open("GET",r+"&t="+a,!0);t.send()}else"POST"===o&&(i=JSON.stringify(i),t.open("POST",r,!0),t.send(i));t.onreadystatechange=function(){4==t.readyState&&200==t.status&&n.success(t.responseText)}}e.exports=t}])});